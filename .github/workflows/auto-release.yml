name: "auto-release"

on:
  push:
    branches:
      - "master"
    tags:
      - "v*"

jobs:
  auto-release:
    name: "Auto Release"
    permissions: write-all
    runs-on: "ubuntu-latest"

    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Create Tag
      uses: negz/create-tag@v1
      with:
        version: ${{ github.event.inputs.version }}
        message: ${{ github.event.inputs.message }}
        token: ${{ secrets.GITHUB_TOKEN }}
          
    - name: Automatic Releases
      uses: marvinpinto/action-automatic-releases@v1.2.1
      with:
        repo_token: "${{ secrets.GITHUB_TOKEN }}"
        automatic_release_tag: "latest"
        title: "Development Build"
